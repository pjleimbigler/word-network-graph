<html>
    <head>
        <style>
            body {
                margin: 0;
            }
            div #mygraph {
                width: 100%;
                height: 100%;
            }
        </style>
        <script src="https://unpkg.com/three"></script>
        <script src="https://unpkg.com/three-spritetext"></script>
        <script src="https://unpkg.com/3d-force-graph"></script>
        <script src="data.js"></script>
    </head>
    <body>
        <div id="mygraph"></div>
        <script>

            const myGraph = ForceGraph3D();
            myGraph(document.getElementById("mygraph"))
            .graphData(data)
            .linkWidth(link => {
                return link.depth**2;
            })
            // .linkOpacity(0.5)
            .nodeThreeObject(node => {
                const sprite = new SpriteText(node.id);
                sprite.material.depthWrite = false; // make sprite background transparent
                sprite.color = "#ff7f0e"; // node.color;
                sprite.textHeight = 20;
                return sprite;
        });

        // Spread nodes a little wider
        myGraph.d3Force('charge').strength(-1000);

        </script>
    </body>
</html>